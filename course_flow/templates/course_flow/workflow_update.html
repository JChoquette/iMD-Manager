
{% extends "course_flow/base.html" %}
<!-- -->
{% load static compress i18n %} {% get_current_language as LANGUAGE_CODE %}
<!-- -->
{% load static i18n %}
<!-- -->
{% block title %}{% endblock %}
<!-- -->
{% block metadescription %} {% endblock %}
<!-- -->
{% block header %}{% endblock %}
<!-- -->
{% block body %}

<div id=container class="body-wrapper"></div>
<div id="node-form-container"></div>

{% endblock %}
<!-- -->
{% block foot %} {% endblock %}
<!-- -->
{% csrf_token %}
<!-- -->
{% block scripts %}

<script nonce="{{request.csp_nonce}}">
window.addEventListener("load", function(){
    
    var myjson;
    
    let fetchThenRenderWorkflow = function(){
        $.getJSON('{% url "course_flow:workflow-detail" pk=object.pk %}',
            function(json){
                myjson = json;
                renderWorkflow(json);
            }
        );
    }
    
    let renderWorkflow = function(jsonData){
        console.log(jsonData);
        workflow.renderWorkflowView(jsonData,$("#container").get()[0])
    }
    
    fetchThenRenderWorkflow();
    
})











</script>

{% endblock %}